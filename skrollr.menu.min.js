/*! skrollr-menu 0.1.14 (2014-10-03) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr-menu | Free to use under terms of MIT license */
(function(t,e){"use strict";var n=500,o="sqrt",a=1,r="data-menu-top",i="data-menu-offset",u=e.skrollr,c=e.history,l=!!c.pushState,s=function(e){return e===t?!1:"A"===e.tagName.toUpperCase()?e:s(e.parentNode)},f=function(t){if(1===t.which||0===t.button){var e=s(t.target);e&&h(e)&&t.preventDefault()}},h=function(n,o){var a;if(k){if(n.hostname!==e.location.hostname)return!1;if(n.pathname!==t.location.pathname)return!1;a=n.hash}else a=n.getAttribute("href");if(!/^#/.test(a))return!1;var u,s;if(s=S?S(n):n.getAttribute(r),null!==s)u=/p$/.test(s)?s.slice(0,-1)/100*t.documentElement.clientHeight:+s*T;else{var f=t.getElementById(a.substr(1));if(!f)return!1;u=d.relativeToAbsolute(f,"top","top");var h=f.getAttribute(i);null!==h&&(u+=+h)}return l&&!o&&c.pushState({top:u},"",a),b&&!o?d.animateTo(u,{duration:g(d.getScrollTop(),u),easing:v}):m(function(){d.setScrollTop(u)}),!0},p=function(){if(e.location.hash&&t.querySelector){var n=t.querySelector('a[href="'+e.location.hash+'"]');n||(n=t.createElement("a"),n.href=e.location.hash),h(n,!0)}},m=function(t){e.setTimeout(t,1)};u.menu={},u.menu.init=function(r,i){d=r,i=i||{},v=i.easing||o,b=i.animate!==!1,g=i.duration||n,S=i.handleLink,T=i.scale||a,k=i.complexLinks===!0,"number"==typeof g&&(g=function(t){return function(){return t}}(g)),u.addEvent(t,"click",f),l&&u.addEvent(e,"popstate",function(t){var e=t.state||{},n=e.top||0;m(function(){d.setScrollTop(n)})},!1),p()},u.menu.click=function(t){h(t)};var d,v,g,b,S,T,k;m(function(){e.location.hash&&e.scrollTo(0,0)})})(document,window);